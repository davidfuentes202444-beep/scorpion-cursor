<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Scorpion Cursor Pro</title>
    <style>
        body { margin: 0; background: #050505; overflow: hidden; font-family: sans-serif; }
        canvas { display: block; }
        .title {
            position: absolute; top: 20px; width: 100%; text-align: center;
            color: white; font-size: 24px; letter-spacing: 4px; opacity: 0.8;
            pointer-events: none; text-transform: uppercase;
        }
    </style>
</head>
<body>
    <div class="title">Scorpion Cursor</div>
    <canvas id="canvas"></canvas>

<script>
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

let width, height;
let mouse = { x: window.innerWidth / 2, y: window.innerHeight / 2 };
let target = { x: mouse.x, y: mouse.y };

// Configuración estética
const numSegments = 45;
const segmentLen = 8;
const smoothing = 0.08; // Controla la lentitud (más bajo = más lento)

window.addEventListener('mousemove', e => {
    target.x = e.clientX;
    target.y = e.clientY;
});

function resize() {
    width = canvas.width = window.innerWidth;
    height = canvas.height = window.innerHeight;
}
window.addEventListener('resize', resize);
resize();

class Segment {
    constructor(len, isHead = false) {
        this.x = width / 2;
        this.y = height / 2;
        this.angle = 0;
        this.len = len;
        this.nextX = this.x;
        this.nextY = this.y;
    }

    update(tx, ty) {
        let dx = tx - this.x;
        let dy = ty - this.y;
        this.angle = Math.atan2(dy, dx);
        this.x = tx - Math.cos(this.angle) * this.len;
        this.y = ty - Math.sin(this.angle) * this.len;
        this.nextX = this.x + Math.cos(this.angle) * this.len;
        this.nextY = this.y + Math.sin(this.angle) * this.len;
    }

    draw(i) {
        // Dibujar costillas horizontales (el cuerpo)
        ctx.lineWidth = 1;
        ctx.strokeStyle = `rgba(200, 200, 200, ${1 - i/numSegments})`;
        
        let ribWidth = Math.sin(i * 0.2) * 15 + 5;
        let rx = Math.cos(this.angle + Math.PI/2) * ribWidth;
        let ry = Math.sin(this.angle + Math.PI/2) * ribWidth;

        ctx.beginPath();
        ctx.moveTo(this.x - rx, this.y - ry);
        ctx.lineTo(this.x + rx, this.y + ry);
        ctx.stroke();

        // Dibujar patas grandes (solo en algunos segmentos)
        if (i > 5 && i < 25 && i % 6 === 0) {
            this.drawLeg(this.x, this.y, this.angle + Math.PI/2, i);
            this.drawLeg(this.x, this.y, this.angle - Math.PI/2, i);
        }
    }

    drawLeg(x, y, angle, i) {
        ctx.beginPath();
        ctx.lineWidth = 0.8;
        let jointX = x + Math.cos(angle) * 30;
        let jointY = y + Math.sin(angle) * 30;
        let footX = jointX + Math.cos(angle + 0.8) * 40;
        let footY = jointY + Math.sin(angle + 0.8) * 40;
        
        ctx.moveTo(x, y);
        ctx.lineTo(jointX, jointY);
        ctx.lineTo(footX, footY);
        ctx.stroke();
        
        // Pinza pequeña al final
        ctx.arc(footX, footY, 2, 0, Math.PI*2);
        ctx.stroke();
    }
}

const segments = Array.from({ length: numSegments }, () => new Segment(segmentLen));

function animate() {
    ctx.clearRect(0, 0, width, height);

    // Movimiento suave (Lerp)
    mouse.x += (target.x - mouse.x) * smoothing;
    mouse.y += (target.y - mouse.y) * smoothing;

    let tx = mouse.x;
    let ty = mouse.y;

    segments.forEach((seg, i) => {
        seg.update(tx, ty);
        seg.draw(i);
        tx = seg.x;
        ty = seg.y;
    });

    requestAnimationFrame(animate);
}

animate();
</script>
</body>
</html>
